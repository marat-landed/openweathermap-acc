<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Sample CRUD Firebase Javascript - 01 Read Data</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
	  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
	  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
	  <script>
      var firebaseConfig = {
		apiKey: "AIzaSyDZCBYYnoI8O9rWW_V9PhksdRppDWfSG4o", 
		//"AIzaSyCRgEIkz7-X52c3e3f4TgqMEBAMF8J6paA",
		//authDomain: "probe-web.firebaseapp.com",
		//https://probe-web-default-rtdb.europe-west1.firebasedatabase.app 
		//(https://probe-web-default-rtdb.firebaseio.com/)
		//projectId: "probe-web",
		//storageBucket: "probe-web.appspot.com",
		//messagingSenderId: "12639340602",
		//appId: "1:12639340602:web:8895af48f5ac447da90d03",
		databaseURL: "https://probe-23-02-2023-default-rtdb.europe-west1.firebasedatabase.app"
		//"https://probe-web-default-rtdb.europe-west1.firebasedatabase.app"
      };
	  
	  function writeUserData(userId, name) {
		const db = firebase.database();
		firebase.set(firebase.ref(db, 'users1/' + userId), {
		  username: name,
		 });
	  }

	  //writeUserData(1, "jacob");

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
	  
	  //var newPostKey = firebase.database().ref().child('posts').push().key;
	  
	  const dbRefObject = firebase.database().ref().child('forecast/clouds/0');
	  dbRefObject.on('value', snap => console.log(snap.val()));
	  //console.log("Probe 24");
	  firebase.database().ref('forecast/clouds/1').once('value').then(function(snapshot) { 
        var userdata = (snapshot.val());
        if (userdata != null) {
          //dataarray = [data,userdata]
          console.log(userdata)
          //updatetweets(dataarray); 
        } else {
		  console.log("userdata = null")
		}
      });
				  
		// firebase.database().ref('users/' + userId).set({
                    //username: name,
                    //email: email,
                    //profile_picture : imageUrl
                //}); 
      //console.log("Probe 24-1");	

	  var ref = firebase.database().ref().child('forecast/clouds/2');
      ref.on('value', function(snap) {
		document.getElementById("answer").innerHTML = snap.val();
	  });	
	  
    </script>
      <h1>
	    <samp>Version 32</samp>
		<br />
        03-03-2023 Firebase test with Vanilla Javascript (www.gstatic.com/firebasejs/8.10.0/firebase-database.js)
        <br />
		<small>
          <em>01 Read Data</em>
        </small>
		Изменение сообщения
      </h1>
	  <hr>
      <label>Answer:<h2 id='answer'></h2></label>
		
	  
	  <span>Это span</span>
    </body>
</html>